"use strict";(self.webpackChunkphoto_share=self.webpackChunkphoto_share||[]).push([[612],{4612:function(e,n,r){r.r(n),r.d(n,{default:function(){return b}});var t=r(9439),o=r(2087),i=r(9562),a=r(3978),l=r(4346),c=r(4565),s=r(5017),d=r(7205),u=r(1087),h=r(6256),Z=r(2898),x=r(9125),m=r(7737),v=r(2791),f=r(306),p=r(7033),j=r(5051),g=r(5802),C=r(2618),I=r(2436),k=r(3329);function A(e){var n=e.viewer,r=e.collectionId,s=e.isCurrentUserAdmin,d=n._id,v=n.avatar,C=n.username,A=g.WU.useAddAuthorToCollectionMutation(),b=(0,t.Z)(A,1)[0],w=g.WU.useDeleteViewerFromCollectionMutation(),M=(0,t.Z)(w,1)[0],P=(0,f.Z)(p.Z),S=(0,j.Z)(),L=S.anchorEl,U=S.isAnchorEl,W=S.handleClick,N=S.handleClose,F=(0,I.Z)({componentNameKey:"Collection.CollectionSettings.ViewersInfo"});return s?(0,k.jsxs)(o.ZP,{children:[(0,k.jsx)(i.Z,{children:(0,k.jsx)(u.OL,{to:"/users/".concat(d),children:(0,k.jsx)(a.Z,{sx:P.avatar,src:v||""})})}),(0,k.jsx)(l.Z,{sx:P.authorUsernameWrapper,children:(0,k.jsx)(u.OL,{to:"/users/".concat(d),children:C})}),(0,k.jsx)(h.Z,{isAnchorEl:U,iconButton:!0,handleClick:W,children:(0,k.jsx)(Z.Z,{})}),(0,k.jsxs)(x.Z,{anchorEl:L,open:U,onClose:N,children:[(0,k.jsx)(m.Z,{onClick:function(){N(),b({collectionId:r,authorId:d,role:"AUTHOR"})},children:(0,k.jsx)(l.Z,{children:F("makeAnAuthor")})}),(0,k.jsx)(m.Z,{onClick:function(){N(),b({collectionId:r,authorId:d,role:"ADMIN"})},children:(0,k.jsx)(l.Z,{children:F("makeAnAdmin")})}),(0,k.jsx)(m.Z,{onClick:function(){N(),M({collectionId:r,viewerId:d})},children:(0,k.jsx)(c.Z,{color:"error",children:F("deleteFromCollection")})})]})]},d):(0,k.jsxs)(o.ZP,{children:[(0,k.jsx)(i.Z,{children:(0,k.jsx)(u.OL,{to:"/users/".concat(d),children:(0,k.jsx)(a.Z,{sx:P.avatar,src:v||""})})}),(0,k.jsx)(l.Z,{sx:P.authorUsernameWrapper,children:(0,k.jsx)(u.OL,{to:"/users/".concat(d),children:C})})]},d)}var b=function(e){var n=e.viewers,r=e.collectionId,i=e.openAddUserAccordion,a=e.isAdmin,l=(0,v.useState)(""),u=(0,t.Z)(l,2),h=u[0],Z=u[1],x=function(e){return Z(e.target.value)},m=n.filter((function(e){return e.username.includes(h)})),f=(0,I.Z)({componentNameKey:"Collection.CollectionSettings.ViewersInfo"});return 0===m.length&&0!==n.length?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{sx:{mb:2},onChange:x,fullWidth:!0,placeholder:f("inputPlaceholder")}),(0,k.jsx)(c.Z,{variant:"h4",textAlign:"center",children:f("wrongUsernameMessage")}),a&&(0,k.jsx)(o.ZP,{onClick:i,children:(0,k.jsx)(d.Z,{endIcon:(0,k.jsx)(C.Z,{}),fullWidth:!0,variant:"contained",children:f("addNewButton")})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{sx:{mb:2},onChange:x,fullWidth:!0,placeholder:f("inputPlaceholder")}),m.map((function(e){return(0,k.jsx)(A,{isCurrentUserAdmin:a,viewer:e,collectionId:r},e._id)})),a&&(0,k.jsx)(o.ZP,{onClick:i,children:(0,k.jsx)(d.Z,{endIcon:(0,k.jsx)(C.Z,{}),fullWidth:!0,variant:"contained",children:f("addNewButton")})})]})}},6256:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(3811),o=r(7205),i=(r(2791),r(3329));function a(e){var n=e.isAnchorEl,r=e.handleClick,a=e.children;return e.iconButton?(0,i.jsx)(t.Z,{id:"basic-button","aria-controls":n?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":n?"true":void 0,onClick:r,color:"primary",children:a}):(0,i.jsx)(o.Z,{variant:"contained",id:"basic-button","aria-controls":n?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":n?"true":void 0,onClick:r,children:a})}},9125:function(e,n,r){var t=r(277),o=r(2352),i=(0,t.ZP)(o.Z)((function(e){var n=e.theme;return{backgroundColor:"rgba(0, 0, 0, 0.2)","& .MuiPaper-root":{backgroundColor:n.palette.background.paper,maxHeight:"300px"},"& .MuiMenu-list":{backgroundColor:n.palette.background.paper,padding:0}}}));n.Z=i},7737:function(e,n,r){var t=r(277),o=r(5348),i=(0,t.ZP)(o.Z)((function(e){return{backgroundColor:e.theme.palette.background.paper,position:"relative"}}));n.Z=i},2618:function(e,n,r){var t=r(4836);n.Z=void 0;var o=t(r(5649)),i=r(3329),a=(0,o.default)((0,i.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");n.Z=a},2898:function(e,n,r){var t=r(4836);n.Z=void 0;var o=t(r(5649)),i=r(3329),a=(0,o.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");n.Z=a},9562:function(e,n,r){r.d(n,{Z:function(){return f}});var t=r(3366),o=r(7462),i=r(2791),a=r(8182),l=r(4419),c=r(8826),s=r(277),d=r(5513),u=r(5878),h=r(1217);function Z(e){return(0,h.Z)("MuiListItemAvatar",e)}(0,u.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var x=r(3329),m=["className"],v=(0,s.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,"flex-start"===r.alignItems&&n.alignItemsFlexStart]}})((function(e){var n=e.ownerState;return(0,o.Z)({minWidth:56,flexShrink:0},"flex-start"===n.alignItems&&{marginTop:8})})),f=i.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiListItemAvatar"}),s=r.className,u=(0,t.Z)(r,m),h=i.useContext(c.Z),f=(0,o.Z)({},r,{alignItems:h.alignItems}),p=function(e){var n=e.alignItems,r=e.classes,t={root:["root","flex-start"===n&&"alignItemsFlexStart"]};return(0,l.Z)(t,Z,r)}(f);return(0,x.jsx)(v,(0,o.Z)({className:(0,a.Z)(p.root,s),ownerState:f,ref:n},u))}))}}]);
//# sourceMappingURL=612.7d49c2bd.chunk.js.map