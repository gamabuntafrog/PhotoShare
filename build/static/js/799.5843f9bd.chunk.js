"use strict";(self.webpackChunkphoto_share=self.webpackChunkphoto_share||[]).push([[799],{8799:function(n,e,r){r.r(e),r.d(e,{default:function(){return M}});var t=r(9439),o=r(2087),i=r(9562),a=r(3978),c=r(4346),l=r(4565),s=r(5017),u=r(7205),d=r(7689),h=r(1087),Z=r(6256),x=r(2898),m=r(9125),f=r(7737),p=r(2791),v=r(5051),j=r(306),C=r(7033),I=r(5802),g=r(2618),k=r(2436),A=r(3329);function b(n){var e=n.author,r=n.collectionId,s=n.isCurrentUserAdmin,u=e._id,p=e.avatar,g=e.username,b=e.isAdmin,M=e.isAuthor,w=(0,j.Z)(C.Z).authorInfo,P=(0,v.Z)(),S=P.anchorEl,U=P.isAnchorEl,W=P.handleClick,N=P.handleClose,F=I.WU.useDeleteAuthorFromCollectionMutation(),L=(0,t.Z)(F,1)[0],y=I.WU.useChangeAuthorRoleInCollectionMutation(),E=(0,t.Z)(y,1)[0],R=I.WU.useAddViewerToCollectionMutation(),V=(0,t.Z)(R,1)[0],z=(0,d.s0)(),B=(0,k.Z)({componentNameKey:"Collection.CollectionSettings.AuthorsInfo"});return s?(0,A.jsxs)(o.ZP,{sx:w.listItem,children:[(0,A.jsx)(i.Z,{children:(0,A.jsx)(h.OL,{to:"/users/".concat(u),children:(0,A.jsx)(a.Z,{sx:w.avatar,src:p||""})})}),(0,A.jsxs)(c.Z,{sx:w.authorUsernameWrapper,onClick:function(){return z("/users/".concat(u))},children:[(0,A.jsxs)(l.Z,{variant:"caption",color:"primary",children:[b&&B("admin"),M&&B("author")]}),(0,A.jsx)(l.Z,{children:g})]}),(0,A.jsx)(Z.Z,{handleClick:W,isAnchorEl:U,iconButton:!0,children:(0,A.jsx)(x.Z,{})}),(0,A.jsxs)(m.Z,{anchorEl:S,open:U,onClose:N,children:[M&&(0,A.jsx)(f.Z,{onClick:function(){N(),E({collectionId:r,authorId:u,role:"ADMIN"})},children:(0,A.jsx)(l.Z,{children:B("makeAnAdmin")})}),b&&(0,A.jsx)(f.Z,{onClick:function(){N(),E({collectionId:r,authorId:u,role:"AUTHOR"})},children:(0,A.jsx)(l.Z,{children:B("makeAnAuthor")})}),(0,A.jsx)(f.Z,{children:(0,A.jsx)(l.Z,{onClick:function(){V({collectionId:r,viewerId:u})},children:B("makeAViewer")})}),(0,A.jsx)(f.Z,{children:(0,A.jsx)(l.Z,{color:"error",onClick:function(){L({collectionId:r,authorId:u})},children:B("deleteFromCollection")})})]})]},u):(0,A.jsxs)(o.ZP,{sx:w.listItem,children:[(0,A.jsx)(i.Z,{children:(0,A.jsx)(h.OL,{to:"/users/".concat(u),children:(0,A.jsx)(a.Z,{sx:w.avatar,src:p||""})})}),(0,A.jsxs)(c.Z,{sx:w.authorUsernameWrapper,onClick:function(){return z("/users/".concat(u))},children:[(0,A.jsxs)(l.Z,{variant:"caption",color:"primary",children:[b&&B("admin"),M&&B("author")]}),(0,A.jsx)(l.Z,{children:g})]})]},u)}var M=function(n){var e=n.authors,r=n.collectionId,i=n.openAddUserAccordion,a=n.isAdmin,c=(0,p.useState)(""),d=(0,t.Z)(c,2),h=d[0],Z=d[1],x=function(n){return Z(n.target.value)},m=e.filter((function(n){return n.username.includes(h)})),f=(0,k.Z)({componentNameKey:"Collection.CollectionSettings.AuthorsInfo"});return 0===m.length?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(s.Z,{sx:{mb:2},onChange:x,fullWidth:!0,placeholder:f("inputPlaceholder")}),(0,A.jsx)(l.Z,{variant:"h4",textAlign:"center",children:f("wrongUsernameMessage")}),a&&(0,A.jsx)(o.ZP,{onClick:i,children:(0,A.jsx)(u.Z,{endIcon:(0,A.jsx)(g.Z,{}),fullWidth:!0,variant:"contained",children:f("addNewButton")})})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(s.Z,{sx:{mb:2},onChange:x,fullWidth:!0,placeholder:f("inputPlaceholder")}),m.map((function(n){return(0,A.jsx)(b,{isCurrentUserAdmin:a,author:n,collectionId:r},n._id)})),a&&(0,A.jsx)(o.ZP,{onClick:i,children:(0,A.jsx)(u.Z,{endIcon:(0,A.jsx)(g.Z,{}),fullWidth:!0,variant:"contained",children:f("addNewButton")})})]})}},6256:function(n,e,r){r.d(e,{Z:function(){return a}});var t=r(3811),o=r(7205),i=(r(2791),r(3329));function a(n){var e=n.isAnchorEl,r=n.handleClick,a=n.children;return n.iconButton?(0,i.jsx)(t.Z,{id:"basic-button","aria-controls":e?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":e?"true":void 0,onClick:r,color:"primary",children:a}):(0,i.jsx)(o.Z,{variant:"contained",id:"basic-button","aria-controls":e?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":e?"true":void 0,onClick:r,children:a})}},9125:function(n,e,r){var t=r(277),o=r(2352),i=(0,t.ZP)(o.Z)((function(n){var e=n.theme;return{backgroundColor:"rgba(0, 0, 0, 0.2)","& .MuiPaper-root":{backgroundColor:e.palette.background.paper,maxHeight:"300px"},"& .MuiMenu-list":{backgroundColor:e.palette.background.paper,padding:0}}}));e.Z=i},7737:function(n,e,r){var t=r(277),o=r(5348),i=(0,t.ZP)(o.Z)((function(n){return{backgroundColor:n.theme.palette.background.paper,position:"relative"}}));e.Z=i},2618:function(n,e,r){var t=r(4836);e.Z=void 0;var o=t(r(5649)),i=r(3329),a=(0,o.default)((0,i.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");e.Z=a},2898:function(n,e,r){var t=r(4836);e.Z=void 0;var o=t(r(5649)),i=r(3329),a=(0,o.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");e.Z=a},9562:function(n,e,r){r.d(e,{Z:function(){return p}});var t=r(3366),o=r(7462),i=r(2791),a=r(8182),c=r(4419),l=r(8826),s=r(277),u=r(5513),d=r(5878),h=r(1217);function Z(n){return(0,h.Z)("MuiListItemAvatar",n)}(0,d.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var x=r(3329),m=["className"],f=(0,s.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(n,e){var r=n.ownerState;return[e.root,"flex-start"===r.alignItems&&e.alignItemsFlexStart]}})((function(n){var e=n.ownerState;return(0,o.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})})),p=i.forwardRef((function(n,e){var r=(0,u.Z)({props:n,name:"MuiListItemAvatar"}),s=r.className,d=(0,t.Z)(r,m),h=i.useContext(l.Z),p=(0,o.Z)({},r,{alignItems:h.alignItems}),v=function(n){var e=n.alignItems,r=n.classes,t={root:["root","flex-start"===e&&"alignItemsFlexStart"]};return(0,c.Z)(t,Z,r)}(p);return(0,x.jsx)(f,(0,o.Z)({className:(0,a.Z)(v.root,s),ownerState:p,ref:e},d))}))}}]);
//# sourceMappingURL=799.5843f9bd.chunk.js.map