{"version":3,"file":"static/js/510.fbc88683.chunk.js","mappings":"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","sources":["components/Collection/CollectionComponents/CollectionSettings/CollectionSettingsComponents/RequestsInfo/RequestsInfoComponents/UsersList.tsx","library/CustomMenu/StyledCustomMenu.tsx","library/CustomMenu/StyledCustomMenuItem.tsx","../node_modules/@mui/material/esm/ListItemAvatar/listItemAvatarClasses.js","../node_modules/@mui/material/esm/ListItemAvatar/ListItemAvatar.js"],"sourcesContent":["import {IUserForAddInCollection} from \"../../../../../../../types/user\";\r\nimport extendedCollectionsApi from \"../../../../../../../redux/api/extendedCollectionsApi\";\r\nimport useSx from \"../../../../../../../hooks/useSx\";\r\nimport collectionStyles from \"../../../../../collectionStyles\";\r\nimport useAnchorEl from \"../../../../../../../hooks/useAnchorEl\";\r\nimport useShortTranslation from \"../../../../../../../hooks/useShortTranslation\";\r\nimport {Avatar, Button, List, ListItem, ListItemAvatar, ListItemText} from \"@mui/material\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport StyledCustomMenu from \"../../../../../../../library/CustomMenu/StyledCustomMenu\";\r\nimport StyledCustomMenuItem from \"../../../../../../../library/CustomMenu/StyledCustomMenuItem\";\r\nimport React from \"react\";\r\nimport {IUserFromRequestsOfCollection} from \"../../../../../../../types/collection\";\r\n\r\ninterface IUsersListProps {\r\n    users: IUserFromRequestsOfCollection[],\r\n    collectionId: string\r\n}\r\n\r\ninterface IUserItemProps {\r\n    user: IUserFromRequestsOfCollection,\r\n    collectionId: string\r\n}\r\n\r\nfunction UserItem({user, collectionId}: IUserItemProps) {\r\n    const {_id: authorId, username, avatar} = user\r\n\r\n    const [addAuthor] = extendedCollectionsApi.useAddAuthorToCollectionMutation()\r\n    const [addViewer] = extendedCollectionsApi.useAddViewerToCollectionMutation()\r\n    const [deleteRequestedUser] = extendedCollectionsApi.useDeleteRequestedUserFromCollectionMutation()\r\n\r\n    const {addAuthorModal: styles} = useSx(collectionStyles)\r\n    const {anchorEl, isAnchorEl, handleClick, handleClose} = useAnchorEl()\r\n\r\n    const t = useShortTranslation({componentNameKey: 'Collection.CollectionSettings.RequestsInfo'})\r\n\r\n    return (\r\n        <ListItem\r\n            sx={styles.userItem}\r\n            key={authorId}>\r\n            <ListItemAvatar\r\n                sx={styles.avatarWrapper}\r\n            >\r\n                <NavLink to={`/users/${authorId}`}>\r\n                    <Avatar\r\n                        sx={styles.avatar}\r\n                        src={avatar || ''}\r\n                    />\r\n                </NavLink>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                sx={styles.usernameWrapper}\r\n            >\r\n                <NavLink to={`/users/${authorId}`}>\r\n                    {username}\r\n                </NavLink>\r\n            </ListItemText>\r\n            <Button\r\n                variant='contained'\r\n                id=\"basic-button\"\r\n                aria-controls={isAnchorEl ? 'basic-menu' : undefined}\r\n                aria-haspopup=\"true\"\r\n                aria-expanded={isAnchorEl ? 'true' : undefined}\r\n                onClick={handleClick}\r\n            >\r\n                {t('addButton')}\r\n            </Button>\r\n            <Button\r\n                variant='outlined'\r\n                color='error'\r\n                onClick={() => deleteRequestedUser({collectionId, userId: authorId})}\r\n                sx={{ml: 1}}\r\n            >\r\n                {t('deleteButton')}\r\n            </Button>\r\n            <StyledCustomMenu\r\n                anchorEl={anchorEl}\r\n                open={isAnchorEl}\r\n                onClose={handleClose}\r\n            >\r\n                <StyledCustomMenuItem\r\n                    onClick={() => {\r\n                        handleClose()\r\n                        addAuthor({collectionId, authorId, role: 'AUTHOR'})\r\n                    }}\r\n                >\r\n                    <ListItemText sx={{mr: 1}}>\r\n                        {t('asAuthor')}\r\n                    </ListItemText>\r\n                </StyledCustomMenuItem>\r\n                <StyledCustomMenuItem\r\n                    onClick={() => {\r\n                        handleClose()\r\n                        addAuthor({collectionId, authorId, role: 'ADMIN'})\r\n                    }}\r\n                >\r\n                    <ListItemText sx={{mr: 1}}>\r\n                        {t('asAdmin')}\r\n                    </ListItemText>\r\n                </StyledCustomMenuItem>\r\n                <StyledCustomMenuItem\r\n                    onClick={() => {\r\n                        handleClose()\r\n                        addViewer({collectionId, viewerId: authorId})\r\n                    }}\r\n                >\r\n                    <ListItemText sx={{mr: 1}}>\r\n                        {t('asViewer')}\r\n                    </ListItemText>\r\n                </StyledCustomMenuItem>\r\n            </StyledCustomMenu>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nexport default function UsersList({users, collectionId}: IUsersListProps) {\r\n\r\n    return (\r\n        <List>\r\n            {users?.map((user) => <UserItem\r\n                user={user}\r\n                    collectionId={collectionId}\r\n                    key={user._id}\r\n                />\r\n            )}\r\n        </List>\r\n    )\r\n}","import {Menu, styled} from \"@mui/material\";\r\nimport React from \"react\";\r\n\r\nconst StyledCustomMenu = styled(Menu)(({theme}) => ({\r\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\r\n    '& .MuiPaper-root': {\r\n        backgroundColor: theme.palette.background.paper,\r\n        maxHeight: '300px',\r\n    },\r\n    '& .MuiMenu-list': {\r\n        backgroundColor: theme.palette.background.paper,\r\n        padding: 0\r\n    }\r\n}))\r\n\r\nexport default StyledCustomMenu\r\n\r\n// export default function StyledMenuComponent({anchorEl, isAnchorEl, handleClose, children}: {\r\n//     anchorEl: HTMLElement | null,\r\n//     isAnchorEl: boolean,\r\n//     handleClose: () => void,\r\n//     children: React.ReactNode\r\n// }) {\r\n//\r\n//     return (\r\n//         <CustomMenu\r\n//             anchorEl={anchorEl}\r\n//             open={isAnchorEl}\r\n//             onClose={handleClose}\r\n//             MenuListProps={{\r\n//                 'aria-labelledby': 'basic-button',\r\n//             }}\r\n//         >\r\n//             {children}\r\n//         </CustomMenu>\r\n//     )\r\n// }","import {MenuItem, styled} from \"@mui/material\";\r\n\r\nconst StyledCustomMenuItem = styled(MenuItem)(({theme}) => ({\r\n    backgroundColor: theme.palette.background.paper,\r\n    position: 'relative'\r\n}))\r\n\r\nexport default StyledCustomMenuItem","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getListItemAvatarUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemAvatar', slot);\n}\nconst listItemAvatarClasses = generateUtilityClasses('MuiListItemAvatar', ['root', 'alignItemsFlexStart']);\nexport default listItemAvatarClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport ListContext from '../List/ListContext';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getListItemAvatarUtilityClass } from './listItemAvatarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', alignItems === 'flex-start' && 'alignItemsFlexStart']\n  };\n  return composeClasses(slots, getListItemAvatarUtilityClass, classes);\n};\nconst ListItemAvatarRoot = styled('div', {\n  name: 'MuiListItemAvatar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart];\n  }\n})(({\n  ownerState\n}) => _extends({\n  minWidth: 56,\n  flexShrink: 0\n}, ownerState.alignItems === 'flex-start' && {\n  marginTop: 8\n}));\n\n/**\n * A simple wrapper to apply `List` styles to an `Avatar`.\n */\nconst ListItemAvatar = /*#__PURE__*/React.forwardRef(function ListItemAvatar(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemAvatar'\n  });\n  const {\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const context = React.useContext(ListContext);\n  const ownerState = _extends({}, props, {\n    alignItems: context.alignItems\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemAvatarRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemAvatar.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component, normally an `Avatar`.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemAvatar;"],"names":["UserItem","user","collectionId","authorId","_id","username","avatar","extendedCollectionsApi","addAuthor","addViewer","deleteRequestedUser","styles","useSx","collectionStyles","addAuthorModal","useAnchorEl","anchorEl","isAnchorEl","handleClick","handleClose","t","useShortTranslation","componentNameKey","sx","userItem","avatarWrapper","to","src","usernameWrapper","variant","id","undefined","onClick","color","userId","ml","open","onClose","role","mr","viewerId","UsersList","users","map","StyledCustomMenu","styled","Menu","theme","backgroundColor","palette","background","paper","maxHeight","padding","StyledCustomMenuItem","MenuItem","position","getListItemAvatarUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","ListItemAvatarRoot","name","overridesResolver","props","ownerState","root","alignItems","alignItemsFlexStart","_extends","minWidth","flexShrink","marginTop","React","inProps","ref","useThemeProps","className","other","_objectWithoutPropertiesLoose","context","ListContext","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx"],"sourceRoot":""}